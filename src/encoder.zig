test "functionality" {
    // var code = std.ArrayList(u8).init(gpa);
    // defer code.deinit();

    // const inst = Instruction{
    //     .tag = .mov,
    //     .enc = .mi,
    //     .data = Instruction.Data.mi(RegisterOrMemory.reg(.rbx), 0x4),
    // };
    // try inst.encode(code.writer());

    // try std.testing.expectEqualSlices(u8, "\x48\xc7\xc3\x04\x00\x00\x00", code.items);
}
